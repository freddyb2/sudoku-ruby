require_relative 'spec_helper'
require 'sudoku'

describe Sudoku do

  context 'simple cases' do
    [[%w[
        12345678x
        .........
        .........
        .........
        .........
        .........
        .........
        .........
        .........
      ],
      %w[
        123456789
        .........
        .........
        .........
        .........
        .........
        .........
        .........
        .........
      ]],
     [%w[
        1........
        2........
        3........
        4........
        5........
        6........
        7........
        8........
        x........
      ],
      %w[
        1........
        2........
        3........
        4........
        5........
        6........
        7........
        8........
        9........
      ]],
     [%w[
        123......
        456......
        78x......
        .........
        .........
        .........
        .........
        .........
        .........
      ],
      %w[
        123......
        456......
        789......
        .........
        .........
        .........
        .........
        .........
        .........
      ]],
    ].each do |grid, expected_solution|
      it 'solves case' do
        expect(described_class.solve(grid.freeze)).to eq expected_solution
      end
    end
  end
  context 'more cases' do
    [[%w[
        .........
        .........
        .........
        .........
        954x87132
        .........
        .........
        .........
        .........
      ],
      %w[
        .........
        .........
        .........
        .........
        954687132
        .........
        .........
        .........
        .........
      ]],
     [%w[
        ....5....
        ....3....
        ....9....
        ....4....
        ....2....
        ....1....
        ....7....
        ....6....
        ....x....
      ],
      %w[
        ....5....
        ....3....
        ....9....
        ....4....
        ....2....
        ....1....
        ....7....
        ....6....
        ....8....
      ]],
     [%w[
        .........
        .........
        .........
        ...219...
        ...3x5...
        ...487...
        .........
        .........
        .........
      ],
      %w[
        .........
        .........
        .........
        ...219...
        ...365...
        ...487...
        .........
        .........
        .........
      ]],
    ].each do |grid, expected_solution|
      it 'solves case' do
        expect(described_class.solve(grid.freeze)).to eq expected_solution
      end
    end
  end
end